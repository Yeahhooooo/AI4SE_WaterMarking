# 水印应用 (WatermarkApp)

一款功能强大的本地桌面水印应用，支持为图片批量添加文本或图片水印，完全符合PRD需求规范。

## 📋 主要功能

### 🖼️ 图片处理
- **多种导入方式**: 支持单张图片、多张图片选择、整个文件夹导入
- **格式支持**: JPEG、PNG、BMP、TIFF等主流图片格式
- **预览功能**: 实时预览水印效果，支持图片列表切换

### 🎨 水印类型
- **文本水印**: 自定义文字、字体、颜色、大小、透明度
- **图片水印**: 支持PNG透明图片、可调节大小和透明度
- **位置控制**: 九宫格预设位置 + 自由拖拽定位
- **旋转功能**: 0-360度任意角度旋转

### 🔧 高级功能
- **模板管理**: 保存、加载、重命名、删除水印模板
- **批量处理**: 一次性处理多张图片
- **自定义输出**: 灵活的文件命名规则和输出路径设置
- **质量控制**: JPEG质量调节

## 🚀 快速开始

### 安装与运行

1. **直接运行**: 双击 `WatermarkApp.app` 即可启动应用
2. **安装到应用程序**: 打开 `WatermarkApp-Installer.dmg`，将应用拖拽到应用程序文件夹

### 基本使用流程

1. **导入图片**: 点击"导入图片"或"导入文件夹"添加要处理的图片
2. **设置水印**: 
   - 选择文本或图片水印类型
   - 调整水印内容、样式和位置
   - 在预览窗口中拖拽调整位置
3. **配置输出**: 设置输出路径和文件命名规则
4. **开始处理**: 点击"开始处理并导出"完成批量处理

### 模板管理

- **保存模板**: 设置好水印后，点击"保存模板"输入名称保存
- **加载模板**: 从下拉菜单选择已保存的模板快速应用
- **管理模板**: 使用重命名、删除按钮管理模板

## 🏗️ 技术架构

- **开发语言**: Python 3.11
- **GUI框架**: CustomTkinter (现代化界面)
- **图像处理**: Pillow (PIL Fork)
- **打包工具**: PyInstaller
- **目标平台**: macOS (支持其他平台扩展)

## 📁 项目结构

```
AI4SE_WaterMarking/
├── src/main.py              # 主应用程序
├── templates/               # 水印模板存储
├── dist/WatermarkApp.app    # 打包后的应用
├── build_app.py            # 自动化打包脚本
├── requirements.txt        # Python依赖列表
└── README.md              # 说明文档
```

## 🔍 功能特性

### 实时预览
- 所有水印参数调整都会立即在预览窗口中显示
- 支持图片列表切换，水印设置保持一致

### 拖拽定位
- 在预览窗口中直接拖拽水印到任意位置
- 精确的坐标转换，确保导出位置与预览一致

### 批量处理
- 进度条显示处理进度
- 防止输出到原始文件夹避免覆盖
- 灵活的文件命名规则

### 模板系统
- JSON格式存储模板，支持完整配置
- 启动时自动加载上次使用的模板
- 模板验证和错误处理

## 📝 版本信息

- **当前版本**: v1.0.0
- **发布日期**: 2025年10月6日
- **兼容性**: macOS 10.13+

## 🎯 符合规范

本应用完全按照PRD (产品需求文档) 开发，实现了以下所有要求：
- ✅ 文件处理 (2.1)
- ✅ 水印类型 (2.2) 
- ✅ 布局与样式 (2.3)
- ✅ 配置管理 (2.4)
- ✅ 技术规格 (3.x)
- ✅ 非功能性需求 (4.x)

## 🐛 问题反馈

如遇到问题，请通过GitHub Issues反馈。

---

*水印应用 - 专业的图片水印处理工具*